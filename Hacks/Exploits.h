#pragma once

#include <array>
#include <filesystem>
#include <memory>
#include <string>
#include <unordered_map>

class Memory;

struct UserCmd;

struct Tick
{
	void calcTicks() noexcept;
	bool canShift(int ticks) noexcept;
	int scheduledTickShift{0};
	int maxUserCmdProcessTicks{17};
	int ticksAllowedForProcessing{17};
	int lastShift{0};
};

inline std::unique_ptr<Tick> tick;

namespace Doubletap
{
void run(bool &sendPacket, UserCmd* cmd) noexcept;
}